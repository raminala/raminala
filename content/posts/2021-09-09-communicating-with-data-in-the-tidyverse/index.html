---
title: "Communicating with Data in the Tidyverse"
author: ''
date: '2021-09-09'
output:
  html_document:
    df_print: paged
categories: []
tags: Markdown
slug: []
---

<script src="{{< blogdown/postref >}}index_files/header-attrs/header-attrs.js"></script>


<pre class="r"><code>library(tidyverse)</code></pre>
<pre><code>## -- Attaching packages --------------------------------------- tidyverse 1.3.1 --</code></pre>
<pre><code>## v ggplot2 3.3.3     v purrr   0.3.4
## v tibble  3.1.2     v dplyr   1.0.6
## v tidyr   1.1.3     v stringr 1.4.0
## v readr   1.4.0     v forcats 0.5.1</code></pre>
<pre><code>## -- Conflicts ------------------------------------------ tidyverse_conflicts() --
## x dplyr::filter() masks stats::filter()
## x dplyr::lag()    masks stats::lag()</code></pre>
<pre class="r"><code>ilo_hourly_compensation &lt;- read.csv(&quot;ilo_hourly_compensation.csv&quot;)
ilo_working_hours &lt;- read.csv(&quot;ilo_working_hours.csv&quot;)</code></pre>
<div id="join-the-two-data-sets-together" class="section level2">
<h2>1-2 Join the two data sets together</h2>
<p>In the video, you have learned that the inner_join() function of dplyr needs to be given a “key” on which two data frames are joined. Actually, multiple keys that need to match can be specified. In this first exercise, you are going to join two data sets by two keys. The data frames ilo_hourly_compensation and ilo_working_hours are already loaded for you and are available in your workspace.</p>
<p>This course touches on a lot of concepts you may have forgotten, so if you ever need a quick refresher, download the tidyverse Cheat Sheet and keep it handy!</p>
<pre class="r"><code># Join both data frames
ilo_data &lt;- ilo_hourly_compensation %&gt;%
  inner_join(ilo_working_hours, by = c(&quot;country&quot;, &quot;year&quot;))

# Count the resulting rows
ilo_data  %&gt;% 
    count()

# Examine ilo_data
ilo_data</code></pre>
</div>
<div id="change-variable-types" class="section level2">
<h2>1-3 Change variable types</h2>
<p>For displaying data in ggplot2 graphics, it is often helpful to convert all the variables to the right data type. Usually, categorical variables like country in this example should be converted to factors before plotting them. You can do so using as.factor(). In your data set, two columns are still of type “character” – use mutate() to turn them into factors.</p>
<pre class="r"><code># Turn year and country into a factor
ilo_data_corrected &lt;- ilo_data %&gt;%
  mutate(year = as.factor(as.numeric(year)),
        country = as.factor(country))

# See the results
ilo_data_corrected</code></pre>
<pre><code>##              country year hourly_compensation working_hours
## 1          Australia 1980                8.44      34.57885
## 2             Canada 1980                8.87      34.85000
## 3            Denmark 1980               10.83      31.89808
## 4            Finland 1980                8.61      35.56346
## 5             France 1980                8.90      35.42308
## 6              Italy 1980                8.09      35.74635
## 7              Japan 1980                5.46      40.78846
## 8        Korea, Rep. 1980                0.95      55.30769
## 9             Norway 1980               11.80      30.37885
## 10             Spain 1980                5.86      36.77692
## 11            Sweden 1980               12.40      29.16923
## 12       Switzerland 1980               10.96      34.70385
## 13    United Kingdom 1980                7.52      34.08654
## 14     United States 1980                9.63      34.80769
## 15         Australia 1981                9.76      34.57885
## 16            Canada 1981                9.79      34.58077
## 17           Denmark 1981                9.36      31.37500
## 18           Finland 1981                8.33      35.66923
## 19            France 1981                7.98      34.76923
## 20             Italy 1981                7.52      35.86731
## 21             Japan 1981                6.02      40.50000
## 22       Korea, Rep. 1981                1.01      55.61538
## 23            Norway 1981               11.21      30.19615
## 24             Spain 1981                5.52      36.12115
## 25            Sweden 1981               11.70      29.00769
## 26       Switzerland 1981               10.01      34.33462
## 27    United Kingdom 1981                7.27      32.98846
## 28     United States 1981               10.62      34.63462
## 29         Australia 1982                9.94      34.37692
## 30            Canada 1982               10.70      34.18077
## 31           Denmark 1982                8.84      31.57115
## 32           Finland 1982                8.26      35.39039
## 33            France 1982                7.74      33.94231
## 34             Italy 1982                7.38      36.08692
## 35             Japan 1982                5.55      40.46154
## 36       Korea, Rep. 1982                1.08      55.86538
## 37            Norway 1982               11.03      29.97885
## 38             Spain 1982                5.26      35.71731
## 39            Sweden 1982                9.99      29.27885
## 40       Switzerland 1982               10.31      34.12308
## 41    United Kingdom 1982                6.87      33.27500
## 42     United States 1982               11.43      34.55769
## 43         Australia 1983                9.27      34.11731
## 44           Belgium 1983                8.53      34.00000
## 45            Canada 1983               11.41      34.00000
## 46           Denmark 1983                8.58      31.49615
## 47           Finland 1983                7.71      35.05192
## 48            France 1983                7.66      33.80769
## 49            Greece 1983                3.77      41.38462
## 50           Ireland 1983                6.00      38.09615
## 51             Italy 1983                7.64      36.07289
## 52             Japan 1983                5.97      40.28846
## 53       Korea, Rep. 1983                1.14      56.21154
## 54        Luxembourg 1983                7.77      34.21154
## 55            Norway 1983               10.45      29.86923
## 56             Spain 1983                4.54      35.10385
## 57            Sweden 1983                8.82      29.45769
## 58       Switzerland 1983               10.33      33.84231
## 59    United Kingdom 1983                6.45      33.01154
## 60     United States 1983               11.84      34.92308
## 61         Australia 1984                9.80      34.41538
## 62           Belgium 1984                7.98      34.48077
## 63            Canada 1984               11.41      34.10769
## 64           Denmark 1984                7.98      31.39808
## 65           Finland 1984                7.92      34.87885
## 66            France 1984                7.25      33.57692
## 67            Greece 1984                3.73      40.11538
## 68           Ireland 1984                5.90      37.76923
## 69             Italy 1984                7.30      35.87327
## 70             Japan 1984                6.17      40.53846
## 71       Korea, Rep. 1984                1.20      56.13462
## 72        Luxembourg 1984                7.40      33.92308
## 73            Norway 1984               10.17      29.77308
## 74             Spain 1984                4.45      34.24231
## 75            Sweden 1984                9.10      29.50000
## 76       Switzerland 1984                9.52      33.47885
## 77    United Kingdom 1984                5.99      33.31923
## 78     United States 1984               12.27      35.26923
## 79         Australia 1985                8.18      34.33846
## 80           Belgium 1985                8.21      34.59615
## 81            Canada 1985               11.20      34.26539
## 82           Denmark 1985                8.03      31.12692
## 83           Finland 1985                8.30      34.87308
## 84            France 1985                7.47      33.28846
## 85            Greece 1985                3.65      40.65385
## 86           Ireland 1985                6.22      37.90385
## 87             Italy 1985                7.56      35.80596
## 88             Japan 1985                6.27      40.25000
## 89       Korea, Rep. 1985                1.23      55.65385
## 90        Luxembourg 1985                7.43      34.00000
## 91            Norway 1985               10.47      29.65769
## 92             Spain 1985                4.64      34.05192
## 93            Sweden 1985                9.58      29.57885
## 94       Switzerland 1985                9.55      33.35961
## 95    United Kingdom 1985                6.22      33.95385
## 96     United States 1985               12.71      35.23077
## 97         Australia 1986                8.55      34.48269
## 98           Belgium 1986               11.25      34.21154
## 99            Canada 1986               11.33      34.23269
## 100          Denmark 1986               10.95      31.19039
## 101          Finland 1986               10.77      34.47500
## 102           France 1986               10.21      33.07692
## 103           Greece 1986                4.06      40.23077
## 104          Ireland 1986                8.39      38.53846
## 105            Italy 1986               10.37      35.96846
## 106            Japan 1986                9.13      40.32692
## 107      Korea, Rep. 1986                1.30      56.21154
## 108       Luxembourg 1986               10.32      33.82692
## 109      New Zealand 1986                5.59      35.26731
## 110           Norway 1986               13.36      29.58077
## 111         Portugal 1986                2.00      37.36538
## 112            Spain 1986                6.21      33.91346
## 113           Sweden 1986               12.31      29.54038
## 114      Switzerland 1986               13.62      33.19615
## 115   United Kingdom 1986                7.59      34.00577
## 116    United States 1986               12.99      35.09615
## 117        Australia 1987                9.52      34.65577
## 118          Belgium 1987               13.96      33.90385
## 119           Canada 1987               12.30      34.43461
## 120          Denmark 1987               14.09      30.52500
## 121          Finland 1987               13.45      34.58269
## 122           France 1987               12.19      33.00000
## 123           Greece 1987                4.60      39.51923
## 124          Ireland 1987                9.72      38.15385
## 125            Italy 1987               12.89      36.33673
## 126            Japan 1987               10.68      40.30769
## 127      Korea, Rep. 1987                1.59      55.61538
## 128       Luxembourg 1987               12.71      33.78846
## 129      Netherlands 1987               15.14      29.61538
## 130      New Zealand 1987                6.87      35.35577
## 131           Norway 1987               16.93      29.05000
## 132         Portugal 1987                2.43      37.67308
## 133            Spain 1987                7.58      33.74615
## 134           Sweden 1987               15.00      29.73461
## 135      Switzerland 1987               16.90      33.17308
## 136   United Kingdom 1987                9.01      33.80000
## 137    United States 1987               13.30      35.19231
## 138        Australia 1988               11.44      34.81923
## 139          Belgium 1988               14.72      33.65385
## 140           Canada 1988               13.77      34.47115
## 141          Denmark 1988               15.08      30.17885
## 142          Finland 1988               15.65      34.73654
## 143           France 1988               12.84      33.03846
## 144           Greece 1988                5.14      39.38462
## 145          Ireland 1988               10.43      38.30769
## 146            Italy 1988               13.85      36.40731
## 147            Japan 1988               12.50      40.23077
## 148      Korea, Rep. 1988                2.20      54.73077
## 149       Luxembourg 1988               13.53      34.21154
## 150      Netherlands 1988               15.79      29.01923
## 151      New Zealand 1988                8.30      35.20385
## 152           Norway 1988               18.60      29.10192
## 153         Portugal 1988                2.68      37.63462
## 154            Spain 1988                8.49      33.67885
## 155           Sweden 1988               16.68      30.11154
## 156      Switzerland 1988               17.81      33.16269
## 157   United Kingdom 1988               10.52      34.57308
## 158    United States 1988               13.61      35.25000
## 159        Australia 1989               12.50      34.70962
## 160          Belgium 1989               14.37      33.48077
## 161           Canada 1989               15.06      34.35577
## 162          Denmark 1989               14.47      29.84615
## 163          Finland 1989               16.78      34.66154
## 164           France 1989               12.54      32.67308
## 165           Greece 1989                5.42      39.90385
## 166          Ireland 1989               10.01      38.44231
## 167            Italy 1989               14.34      36.10173
## 168            Japan 1989               12.39      39.80769
## 169      Korea, Rep. 1989                3.16      52.73077
## 170       Luxembourg 1989               13.23      33.98077
## 171      Netherlands 1989               14.93      28.78846
## 172      New Zealand 1989                7.92      35.01346
## 173           Norway 1989               18.50      29.04808
## 174         Portugal 1989                2.85      38.00000
## 175            Spain 1989                8.90      33.45000
## 176           Sweden 1989               17.37      30.08846
## 177      Switzerland 1989               16.54      32.87308
## 178   United Kingdom 1989               10.41      34.34231
## 179    United States 1989               14.04      35.48077
## 180        Australia 1990               13.09      34.52500
## 181          Belgium 1990               17.85      33.73077
## 182           Canada 1990               16.33      34.16154
## 183          Denmark 1990               18.29      29.59038
## 184          Finland 1990               20.84      34.02500
## 185           France 1990               15.35      32.73077
## 186           Greece 1990                6.69      39.90385
## 187          Ireland 1990               12.11      38.23077
## 188            Italy 1990               17.68      35.89558
## 189            Japan 1990               12.59      39.05769
## 190      Korea, Rep. 1990                3.70      51.69231
## 191       Luxembourg 1990               15.90      33.96154
## 192           Mexico 1990                1.57      33.98077
## 193      Netherlands 1990               17.98      28.92308
## 194      New Zealand 1990                8.48      34.80769
## 195           Norway 1990               21.76      28.89615
## 196         Portugal 1990                3.61      37.73077
## 197            Spain 1990               11.30      33.48077
## 198           Sweden 1990               20.75      30.01731
## 199      Switzerland 1990               20.63      32.69135
## 200   United Kingdom 1990               12.46      34.05192
## 201    United States 1990               14.81      35.13462
## 202        Australia 1991               13.67      34.13654
## 203          Belgium 1991               18.40      32.98077
## 204           Canada 1991               17.69      33.76346
## 205          Denmark 1991               18.55      29.49423
## 206          Finland 1991               20.73      33.59038
## 207           France 1991               15.52      32.57692
## 208           Greece 1991                6.85      39.92308
## 209          Ireland 1991               12.37      37.57692
## 210            Italy 1991               18.74      35.76173
## 211            Japan 1991               14.51      38.42308
## 212      Korea, Rep. 1991                4.61      51.38462
## 213       Luxembourg 1991               16.27      33.59615
## 214           Mexico 1991                1.83      35.03654
## 215      Netherlands 1991               18.06      28.28846
## 216      New Zealand 1991                8.52      34.47692
## 217           Norway 1991               21.95      28.85192
## 218         Portugal 1991                4.05      36.30769
## 219            Spain 1991               12.19      33.64808
## 220           Sweden 1991               22.00      29.76346
## 221      Switzerland 1991               21.43      32.64692
## 222   United Kingdom 1991               13.42      33.99019
## 223    United States 1991               15.52      34.90385
## 224        Australia 1992               13.23      34.33654
## 225          Belgium 1992               20.50      32.55769
## 226           Canada 1992               17.57      33.74615
## 227          Denmark 1992               20.41      29.89039
## 228          Finland 1992               19.16      33.70962
## 229           France 1992               17.32      32.59615
## 230           Greece 1992                7.66      40.48077
## 231 Hong Kong, China 1992                3.91      43.98077
## 232          Ireland 1992               13.60      36.69231
## 233            Italy 1992               19.64      35.82231
## 234            Japan 1992               16.13      37.78846
## 235      Korea, Rep. 1992                5.21      50.96154
## 236       Luxembourg 1992               18.13      33.15385
## 237      Netherlands 1992               20.01      27.82692
## 238      New Zealand 1992                8.05      34.62115
## 239           Norway 1992               23.48      29.04038
## 240         Portugal 1992                4.93      35.63462
## 241            Spain 1992               13.39      33.49231
## 242           Sweden 1992               24.41      30.10192
## 243      Switzerland 1992               22.95      32.83596
## 244   United Kingdom 1992               13.98      33.31539
## 245    United States 1992               15.95      34.92308
## 246        Australia 1993               12.62      34.60385
## 247          Belgium 1993               20.15      31.65385
## 248           Canada 1993               16.97      33.74038
## 249          Denmark 1993               19.61      29.90769
## 250          Finland 1993               15.81      33.75577
## 251           France 1993               16.52      32.34615
## 252          Germany 1993               23.89      29.80577
## 253           Greece 1993                7.06      40.86538
## 254          Ireland 1993               12.38      36.21154
## 255            Italy 1993               15.98      35.81962
## 256            Japan 1993               18.86      36.63462
## 257      Korea, Rep. 1993                5.71      51.28846
## 258       Luxembourg 1993               18.04      33.30769
## 259           Mexico 1993                2.36      35.02500
## 260      Netherlands 1993               19.79      27.28846
## 261      New Zealand 1993                8.05      35.65577
## 262           Norway 1993               20.59      28.97885
## 263         Portugal 1993                4.30      35.57692
## 264            Spain 1993               11.49      33.34038
## 265           Sweden 1993               17.47      30.71000
## 266      Switzerland 1993               22.36      32.77115
## 267   United Kingdom 1993               12.27      33.19423
## 268    United States 1993               16.37      35.09615
## 269        Australia 1994               14.13      34.74423
## 270          Belgium 1994               21.93      31.65385
## 271           Canada 1994               16.29      33.88269
## 272          Denmark 1994               20.93      29.76731
## 273          Finland 1994               18.16      34.13077
## 274           France 1994               17.10      32.21154
## 275          Germany 1994               25.33      29.75385
## 276           Greece 1994                7.59      40.23077
## 277          Hungary 1994                2.70      39.07692
## 278          Ireland 1994               12.90      36.21154
## 279            Italy 1994               16.09      35.70308
## 280            Japan 1994               20.98      36.50000
## 281      Korea, Rep. 1994                6.34      50.98077
## 282       Luxembourg 1994               19.88      32.86538
## 283      Netherlands 1994               20.84      27.13462
## 284      New Zealand 1994                9.09      35.54808
## 285           Norway 1994               21.40      28.94039
## 286         Portugal 1994                4.40      35.34615
## 287            Spain 1994               11.39      33.33077
## 288        Sri Lanka 1994                0.45      44.00000
## 289           Sweden 1994               18.58      30.92250
## 290      Switzerland 1994               24.62      33.17211
## 291   United Kingdom 1994               12.83      33.46346
## 292    United States 1994               16.78      35.25000
## 293        Australia 1995               15.36      34.66346
## 294          Austria 1995               25.26      31.66154
## 295          Belgium 1995               25.68      32.19231
## 296           Canada 1995               16.50      33.85961
## 297       Czech Rep. 1995                2.53      39.69808
## 298          Denmark 1995               25.02      29.62500
## 299          Finland 1995               22.60      34.15385
## 300           France 1995               19.24      31.75000
## 301          Germany 1995               30.10      29.49231
## 302           Greece 1995                9.05      40.03846
## 303          Hungary 1995                2.69      39.20385
## 304          Ireland 1995               14.14      36.05769
## 305            Italy 1995               16.53      35.74731
## 306            Japan 1995               23.47      36.23077
## 307      Korea, Rep. 1995                7.29      51.11538
## 308       Luxembourg 1995               23.45      33.05769
## 309           Mexico 1995                1.70      35.71923
## 310      Netherlands 1995               24.03      26.75000
## 311      New Zealand 1995               10.35      35.41538
## 312           Norway 1995               24.84      28.61154
## 313         Portugal 1995                5.14      36.48077
## 314            Spain 1995               12.70      33.32500
## 315           Sweden 1995               21.62      30.94539
## 316      Switzerland 1995               28.89      32.73846
## 317   United Kingdom 1995               13.71      33.51154
## 318    United States 1995               17.17      35.38462
## 319        Australia 1996               17.02      34.59615
## 320          Austria 1996               24.75      31.99808
## 321          Belgium 1996               25.25      31.65385
## 322           Canada 1996               17.04      34.11731
## 323       Czech Rep. 1996                2.94      39.72692
## 324          Denmark 1996               25.14      29.43654
## 325          Finland 1996               22.21      34.12692
## 326           France 1996               18.97      31.82692
## 327          Germany 1996               29.58      29.18846
## 328           Greece 1996                9.53      39.57692
## 329          Hungary 1996                2.71      39.12462
## 330          Ireland 1996               14.49      36.19231
## 331            Italy 1996               18.07      36.02019
## 332            Japan 1996               20.44      36.38462
## 333      Korea, Rep. 1996                8.21      50.92308
## 334       Luxembourg 1996               22.45      32.51923
## 335           Mexico 1996                1.63      36.57500
## 336      Netherlands 1996               23.10      27.32692
## 337      New Zealand 1996               11.31      35.25385
## 338           Norway 1996               25.46      28.51154
## 339         Portugal 1996                5.33      35.53846
## 340            Spain 1996               13.33      33.24038
## 341           Sweden 1996               24.29      31.02865
## 342      Switzerland 1996               27.94      32.20000
## 343   United Kingdom 1996               14.12      33.49231
## 344    United States 1996               17.74      35.23077
## 345        Australia 1997               16.71      34.52308
## 346          Austria 1997               21.85      32.07308
## 347          Belgium 1997               22.28      31.92308
## 348           Brazil 1997                5.77      33.82692
## 349           Canada 1997               16.83      33.98654
## 350       Czech Rep. 1997                2.79      39.74615
## 351          Denmark 1997               23.15      29.69231
## 352          Finland 1997               20.01      34.04808
## 353           France 1997               17.07      31.71154
## 354          Germany 1997               25.96      29.01346
## 355           Greece 1997                9.15      38.96154
## 356          Hungary 1997                2.68      39.60577
## 357          Ireland 1997               14.25      35.23077
## 358            Italy 1997               16.95      35.83000
## 359            Japan 1997               18.98      35.86538
## 360      Korea, Rep. 1997                7.86      49.84615
## 361       Luxembourg 1997               19.66      32.26923
## 362           Mexico 1997                1.73      37.05000
## 363      Netherlands 1997               20.73      27.19231
## 364      New Zealand 1997               11.32      35.00962
## 365           Norway 1997               24.12      28.41346
## 366         Portugal 1997                5.13      34.84615
## 367            Spain 1997               12.08      33.23846
## 368           Sweden 1997               22.37      32.21365
## 369      Switzerland 1997               23.85      31.95385
## 370   United Kingdom 1997               15.69      33.47096
## 371    United States 1997               18.20      35.42308
## 372        Australia 1998               15.11      34.39423
## 373          Austria 1998               22.02      31.99038
## 374          Belgium 1998               22.62      32.15385
## 375           Canada 1998               15.93      33.97500
## 376       Czech Rep. 1998                2.99      39.89616
## 377          Denmark 1998               23.68      29.98461
## 378          Finland 1998               19.40      33.86154
## 379           France 1998               17.28      31.48077
## 380          Germany 1998               25.17      28.90962
## 381           Greece 1998                8.88      38.90385
## 382          Hungary 1998                2.72      39.46731
## 383          Ireland 1998               14.18      33.71154
## 384            Italy 1998               16.73      36.14769
## 385            Japan 1998               17.62      35.42308
## 386      Korea, Rep. 1998                5.67      48.00000
## 387       Luxembourg 1998               19.59      32.15385
## 388           Mexico 1998                1.65      36.11538
## 389      Netherlands 1998               21.29      26.92308
## 390      New Zealand 1998                9.38      35.08462
## 391           Norway 1998               24.43      28.37692
## 392         Portugal 1998                5.20      34.59615
## 393            Spain 1998               11.95      33.30000
## 394           Sweden 1998               22.40      31.65404
## 395      Switzerland 1998               24.04      32.09231
## 396   United Kingdom 1998               16.98      33.35385
## 397    United States 1998               18.52      35.44231
## 398        Australia 1999               15.94      34.36346
## 399          Austria 1999               21.63      31.49231
## 400          Belgium 1999               22.14      30.40385
## 401           Brazil 1999                3.39      32.48077
## 402           Canada 1999               16.10      34.02115
## 403       Czech Rep. 1999                3.12      40.14616
## 404          Denmark 1999               24.02      30.17308
## 405          Finland 1999               19.66      33.93654
## 406           France 1999               16.98      31.34615
## 407          Germany 1999               24.57      28.68654
## 408           Greece 1999                8.60      39.75000
## 409          Hungary 1999                2.76      39.75192
## 410          Ireland 1999               14.33      33.17308
## 411            Italy 1999               16.32      36.06885
## 412            Japan 1999               20.44      34.81539
## 413      Korea, Rep. 1999                7.36      48.11538
## 414       Luxembourg 1999               19.50      32.09615
## 415           Mexico 1999                1.81      36.95962
## 416      Netherlands 1999               21.36      26.55769
## 417      New Zealand 1999                9.45      35.34231
## 418           Norway 1999               24.73      28.33462
## 419         Portugal 1999                5.06      34.84615
## 420            Spain 1999               11.92      33.30961
## 421           Sweden 1999               22.07      31.01827
## 422      Switzerland 1999               23.23      32.50654
## 423   United Kingdom 1999               17.34      33.13077
## 424    United States 1999               18.90      35.46154
## 425        Australia 2000               14.41      34.33269
## 426          Austria 2000               19.12      31.37885
## 427          Belgium 2000               20.13      29.88462
## 428           Canada 2000               16.48      33.99615
## 429       Czech Rep. 2000                3.01      40.23654
## 430          Denmark 2000               21.43      30.41154
## 431          Finland 2000               17.84      33.64808
## 432           France 2000               15.43      30.59615
## 433          Germany 2000               22.67      28.32692
## 434           Greece 2000                7.67      40.00000
## 435          Hungary 2000                2.74      39.63846
## 436          Ireland 2000               13.28      33.05769
## 437            Italy 2000               14.47      35.79500
## 438            Japan 2000               21.93      35.02500
## 439      Korea, Rep. 2000                8.23      48.46154
## 440       Luxembourg 2000               17.41      31.96154
## 441           Mexico 2000                2.07      36.30961
## 442      Netherlands 2000               19.35      26.38462
## 443      New Zealand 2000                8.38      35.19423
## 444           Norway 2000               22.56      27.98461
## 445           Poland 2000                2.81      38.23077
## 446         Portugal 2000                4.49      33.94231
## 447            Spain 2000               10.66      33.28077
## 448           Sweden 2000               20.68      30.27731
## 449      Switzerland 2000               20.95      32.39615
## 450   United Kingdom 2000               16.84      32.91154
## 451    United States 2000               19.65      35.23077
## 452        Australia 2001               13.33      33.74231
## 453          Austria 2001               19.07      31.35192
## 454          Belgium 2001               19.84      30.32692
## 455           Canada 2001               16.27      33.88462
## 456       Czech Rep. 2001                3.13      38.45308
## 457          Denmark 2001               21.67      30.51346
## 458          Finland 2001               18.07      33.34423
## 459           France 2001               15.53      30.34615
## 460          Germany 2001               22.51      28.04615
## 461           Greece 2001                7.96      40.11538
## 462          Hungary 2001                3.13      38.82500
## 463          Ireland 2001               14.16      32.86538
## 464            Italy 2001               14.56      35.44365
## 465            Japan 2001               19.35      34.78846
## 466      Korea, Rep. 2001                7.70      48.19231
## 467       Luxembourg 2001               17.07      31.65385
## 468           Mexico 2001                2.34      35.85192
## 469      Netherlands 2001               19.88      26.38462
## 470      New Zealand 2001                7.97      34.94808
## 471           Norway 2001               23.51      27.48269
## 472           Poland 2001                3.19      37.96154
## 473         Portugal 2001                4.58      34.01923
## 474            Spain 2001               10.88      33.20385
## 475           Sweden 2001               19.07      29.35711
## 476      Switzerland 2001               21.53      31.65769
## 477   United Kingdom 2001               16.91      32.96731
## 478    United States 2001               20.52      34.82692
## 479        Australia 2002               15.40      33.46731
## 480          Austria 2002               20.66      31.38462
## 481          Belgium 2002               21.77      30.36538
## 482           Canada 2002               16.80      33.54615
## 483       Czech Rep. 2002                3.83      38.07885
## 484          Denmark 2002               23.88      30.36154
## 485          Finland 2002               19.75      33.22885
## 486           France 2002               16.90      29.53846
## 487          Germany 2002               24.33      27.79615
## 488           Greece 2002                6.43      40.13462
## 489          Hungary 2002                3.93      38.97019
## 490          Ireland 2002               15.85      32.59615
## 491            Italy 2002               16.09      35.21096
## 492            Japan 2002               18.63      34.57692
## 493      Korea, Rep. 2002                8.77      47.40385
## 494       Luxembourg 2002               18.52      31.42308
## 495           Mexico 2002                2.49      36.30961
## 496      Netherlands 2002               22.15      25.92308
## 497      New Zealand 2002                9.10      34.94039
## 498           Norway 2002               27.93      27.19423
## 499           Poland 2002                3.29      38.05769
## 500         Portugal 2002                5.04      33.98077
## 501            Spain 2002               12.05      33.09423
## 502           Sweden 2002               21.17      29.50731
## 503      Switzerland 2002               23.77      31.33269
## 504   United Kingdom 2002               18.43      32.60961
## 505    United States 2002               21.60      34.75000
## 506        Australia 2003               19.79      33.41154
## 507          Austria 2003               25.42      31.56731
## 508          Belgium 2003               26.55      30.28846
## 509           Canada 2003               19.60      33.34808
## 510       Czech Rep. 2003                4.72      37.91731
## 511          Denmark 2003               29.63      30.31731
## 512          Finland 2003               24.35      33.07500
## 513           France 2003               20.74      29.44231
## 514          Germany 2003               29.93      27.67115
## 515           Greece 2003               11.86      40.13462
## 516          Hungary 2003                4.79      38.41154
## 517          Ireland 2003               19.79      32.13462
## 518            Italy 2003               20.29      35.10750
## 519            Japan 2003               20.32      34.58846
## 520      Korea, Rep. 2003                9.69      46.80769
## 521       Luxembourg 2003               22.83      31.34615
## 522           Mexico 2003                2.44      35.71538
## 523      Netherlands 2003               27.52      26.21154
## 524      New Zealand 2003               11.69      34.85769
## 525           Norway 2003               32.73      26.89615
## 526           Poland 2003                3.52      38.15385
## 527         Portugal 2003                6.18      33.50000
## 528            Spain 2003               15.14      32.80385
## 529           Sweden 2003               26.42      29.98173
## 530      Switzerland 2003               27.79      31.52500
## 531   United Kingdom 2003               21.29      32.24615
## 532    United States 2003               22.48      34.55769
## 533        Australia 2004               23.38      33.59615
## 534          Austria 2004               28.39      31.73654
## 535          Belgium 2004               30.01      29.78846
## 536           Canada 2004               21.85      33.70192
## 537       Czech Rep. 2004                5.45      38.19039
## 538          Denmark 2004               33.68      30.37308
## 539          Finland 2004               27.80      33.14808
## 540           France 2004               23.29      29.96154
## 541          Germany 2004               33.09      27.72308
## 542           Greece 2004               14.65      39.61538
## 543          Hungary 2004                5.68      38.39404
## 544          Ireland 2004               22.67      32.07692
## 545            Italy 2004               23.57      35.11635
## 546            Japan 2004               21.95      34.36538
## 547      Korea, Rep. 2004               10.81      46.03846
## 548       Luxembourg 2004               26.18      30.50000
## 549           Mexico 2004                2.44      35.55000
## 550      Netherlands 2004               30.82      26.19231
## 551      New Zealand 2004               13.65      35.12692
## 552           Norway 2004               36.41      27.25577
## 553           Poland 2004                3.84      38.13462
## 554         Portugal 2004                6.96      33.90385
## 555            Spain 2004               17.25      32.50577
## 556           Sweden 2004               30.08      30.28096
## 557      Switzerland 2004               30.21      32.10000
## 558   United Kingdom 2004               24.82      32.15192
## 559    United States 2004               23.13      34.59615
## 560        Australia 2005               25.11      33.29808
## 561          Austria 2005               29.36      31.84423
## 562          Belgium 2005               30.79      30.09615
## 563           Canada 2005               23.98      33.43077
## 564       Czech Rep. 2005                6.04      38.50192
## 565          Denmark 2005               34.45      30.07115
## 566          Finland 2005               28.38      33.03269
## 567           France 2005               24.00      29.80769
## 568          Germany 2005               33.34      27.59423
## 569           Greece 2005               15.31      39.48077
## 570          Hungary 2005                6.13      38.34615
## 571          Ireland 2005               24.15      31.80769
## 572            Italy 2005               24.23      34.97577
## 573            Japan 2005               21.54      34.13462
## 574      Korea, Rep. 2005               12.74      45.26539
## 575       Luxembourg 2005               27.26      30.19231
## 576           Mexico 2005                2.64      36.71346
## 577      Netherlands 2005               31.80      26.44231
## 578      New Zealand 2005               14.97      34.80961
## 579           Norway 2005               39.17      27.30769
## 580           Poland 2005                4.51      38.34615
## 581         Portugal 2005                7.27      33.69231
## 582            Spain 2005               17.92      32.15192
## 583           Sweden 2005               30.46      30.90250
## 584      Switzerland 2005               30.50      32.10385
## 585   United Kingdom 2005               25.72      32.22692
## 586    United States 2005               23.81      34.51923
## 587        Australia 2006               26.14      33.14039
## 588          Austria 2006               30.46      31.81731
## 589          Belgium 2006               31.85      30.21154
## 590           Canada 2006               25.74      33.42308
## 591       Czech Rep. 2006                6.77      38.40000
## 592          Denmark 2006               35.45      30.26539
## 593          Finland 2006               29.90      32.95192
## 594           France 2006               24.90      30.15577
## 595          Germany 2006               34.21      27.55192
## 596          Hungary 2006                6.29      38.25385
## 597          Ireland 2006               25.96      31.53846
## 598            Italy 2006               25.07      34.88654
## 599            Japan 2006               20.20      34.30769
## 600      Korea, Rep. 2006               14.72      44.32692
## 601       Luxembourg 2006               27.74      30.84615
## 602           Mexico 2006                2.75      36.21538
## 603      Netherlands 2006               32.34      26.75000
## 604      New Zealand 2006               14.47      34.36346
## 605           Norway 2006               41.05      27.08077
## 606           Poland 2006                4.99      38.17308
## 607         Portugal 2006                7.65      33.80769
## 608            Spain 2006               18.83      31.82115
## 609           Sweden 2006               31.80      30.30365
## 610      Switzerland 2006               30.67      31.87115
## 611   United Kingdom 2006               27.10      32.09038
## 612    United States 2006               23.82      34.55769</code></pre>
</div>
<div id="filter-the-data-for-plotting" class="section level2">
<h2>1-5 Filter the data for plotting</h2>
<p>Use the filter() function of dplyr to remove non-European countries. A vector called european_countries has been created that contains all European countries which should remain in the data set. Here, the %in% operator introduced in the video might come in handy. Note that only a subset of European countries for which enough data exist is retained. For instance, Poland is missing.</p>
<pre class="r"><code>european_countries &lt;- c(&quot;Finland&quot;, &quot;France&quot;, &quot;Italy&quot;, &quot;Norway&quot;, &quot;Spain&quot;, &quot;Sweden&quot;, &quot;Switzerland&quot;, &quot;United Kingdom&quot;, &quot;Belgium&quot;, &quot;Ireland&quot;, &quot;Luxembourg&quot;, &quot;Portugal&quot;, &quot;Netherlands&quot;, &quot;Germany&quot;, &quot;Hungary&quot;, &quot;Austria&quot;, &quot;Czech Rep.&quot;)

# Examine the European countries vector
european_countries</code></pre>
<pre><code>##  [1] &quot;Finland&quot;        &quot;France&quot;         &quot;Italy&quot;          &quot;Norway&quot;        
##  [5] &quot;Spain&quot;          &quot;Sweden&quot;         &quot;Switzerland&quot;    &quot;United Kingdom&quot;
##  [9] &quot;Belgium&quot;        &quot;Ireland&quot;        &quot;Luxembourg&quot;     &quot;Portugal&quot;      
## [13] &quot;Netherlands&quot;    &quot;Germany&quot;        &quot;Hungary&quot;        &quot;Austria&quot;       
## [17] &quot;Czech Rep.&quot;</code></pre>
<pre class="r"><code># Only retain European countries
ilo_data &lt;- ilo_data %&gt;%
  filter(country %in% european_countries)</code></pre>
</div>
<div id="some-summary-statistics" class="section level2">
<h2>1-6 Some summary statistics</h2>
<p>Use dplyrs group_by() and summarize() to compute summary statistics for both years.</p>
<pre class="r"><code># Examine the structure of ilo_data
str(ilo_data)</code></pre>
<pre><code>## &#39;data.frame&#39;:    380 obs. of  4 variables:
##  $ country            : chr  &quot;Finland&quot; &quot;France&quot; &quot;Italy&quot; &quot;Norway&quot; ...
##  $ year               : int  1980 1980 1980 1980 1980 1980 1980 1980 1981 1981 ...
##  $ hourly_compensation: num  8.61 8.9 8.09 11.8 5.86 ...
##  $ working_hours      : num  35.6 35.4 35.7 30.4 36.8 ...</code></pre>
<pre class="r"><code># Group and summarize the data
ilo_data %&gt;%
  group_by(year) %&gt;%
  summarize(mean_hourly_compensation = mean(hourly_compensation),
            mean_working_hours = mean(working_hours))</code></pre>
<pre><code>## # A tibble: 27 x 3
##     year mean_hourly_compensation mean_working_hours
##    &lt;int&gt;                    &lt;dbl&gt;              &lt;dbl&gt;
##  1  1980                     9.27               34.0
##  2  1981                     8.69               33.6
##  3  1982                     8.36               33.5
##  4  1983                     7.81               33.9
##  5  1984                     7.54               33.7
##  6  1985                     7.79               33.7
##  7  1986                     9.70               34.0
##  8  1987                    12.1                33.6
##  9  1988                    13.2                33.7
## 10  1989                    13.1                33.5
## # ... with 17 more rows</code></pre>
</div>
<div id="a-basic-scatter-plot" class="section level2">
<h2>1-7 A basic scatter plot</h2>
<p>In this exercise, you will create a very basic scatter plot with ggplot2. This is mostly a repetition of stuff you’ve learnt in the prerequisites for this course, so it should be easy for you.</p>
<pre class="r"><code># Filter for 2006
plot_data &lt;- ilo_data %&gt;%
  filter(year==2006)
  
# Create the scatter plot
ggplot(plot_data) +
  geom_point(aes(x = working_hours, y = hourly_compensation))</code></pre>
<p><img src="{{< blogdown/postref >}}index_files/figure-html/unnamed-chunk-6-1.png" width="672" /></p>
</div>
<div id="add-labels-to-the-plot" class="section level2">
<h2>1-8 Add labels to the plot</h2>
<p>As mentioned in the video, you’re going to enhance the plot from the previous exercise by adding a title, a subtitle, and a caption to the plot as well as giving the axes meaningful names. You’re going to use the labs() function to do this – try using ?labs in the console to see the available options.</p>
<pre class="r"><code># Create the plot
ggplot(plot_data) +
  geom_point(aes(x = working_hours, y = hourly_compensation)) +
  # Add labels
  labs(
    x = &quot;Working hours per week&quot;,
    y = &quot;Hourly compensation&quot;,
    title = &quot;The more people work, the less compensation they seem to receive&quot;,
    subtitle = &quot;Working hours and hourly compensation in European countries, 2006&quot;,
    caption = &quot;Data source: ILO, 2017&quot;
  )</code></pre>
<p><img src="{{< blogdown/postref >}}index_files/figure-html/unnamed-chunk-7-1.png" width="672" /></p>
</div>
<div id="apply-a-default-theme" class="section level2">
<h2>1-10 Apply a default theme</h2>
<p>As you’ve learnt in the videos, ggplot2 comes with a set of predefined themes. Try out some of them!</p>
<pre class="r"><code># Save your current plot into a variable: ilo_plot
ilo_plot &lt;- ggplot(plot_data) +
  geom_point(aes(x = working_hours, y = hourly_compensation)) +
  labs(
    x = &quot;Working hours per week&quot;,
    y = &quot;Hourly compensation&quot;,
    title = &quot;The more people work, the less compensation they seem to receive&quot;,
    subtitle = &quot;Working hours and hourly compensation in European countries, 2006&quot;,
    caption = &quot;Data source: ILO, 2017&quot;
  )

ilo_plot</code></pre>
<p><img src="{{< blogdown/postref >}}index_files/figure-html/unnamed-chunk-8-1.png" width="672" /></p>
<pre class="r"><code>ilo_plot +
  theme_minimal()</code></pre>
<p><img src="{{< blogdown/postref >}}index_files/figure-html/unnamed-chunk-9-1.png" width="672" /></p>
<pre class="r"><code>ilo_plot +
  theme_classic()</code></pre>
<p><img src="{{< blogdown/postref >}}index_files/figure-html/unnamed-chunk-10-1.png" width="672" /></p>
</div>
<div id="change-the-appearance-of-titles" class="section level2">
<h2>1-11 Change the appearance of titles</h2>
<p>Besides applying defined theme presets, you can tweak your plot even more by altering different style attributes of it. Hint: You can reuse and overwrite the ilo_plot variable generated in the previous exercise – the current plot is already shown in the window on the right.</p>
<pre class="r"><code>ilo_plot &lt;- ilo_plot +
  theme_minimal() +
  # Customize the &quot;minimal&quot; theme with another custom &quot;theme&quot; call
  theme(
    text = element_text(family = &quot;Bookman&quot;),
    title = element_text(color = &quot;gray25&quot;),
    plot.caption = element_text(color = &quot;gray30&quot;),
    plot.subtitle = element_text(size = 12)
  )
  
# Render the plot object
ilo_plot</code></pre>
<p><img src="{{< blogdown/postref >}}index_files/figure-html/unnamed-chunk-11-1.png" width="672" /></p>
</div>
<div id="alter-background-color-and-add-margins" class="section level2">
<h2>1-12 Alter background color and add margins</h2>
<p>Further customize the look of your plot with more arguments to the theme function call. You can continue working on your ilo_plot object created in the last exercise.</p>
<p>Add margins to the plot: 5mm top and bottom, 10mm to the left and the right.</p>
<p>The margins need to be specified in the following order: top, right, bottom, and left.</p>
<pre class="r"><code>ilo_plot +
  # &quot;theme&quot; calls can be stacked upon each other, so this is already the third call of &quot;theme&quot;
  theme(
    plot.background = element_rect(fill = &quot;gray95&quot;),
    plot.margin = unit(c(5, 10, 5, 10), units = &quot;mm&quot;)
  )</code></pre>
<p><img src="{{< blogdown/postref >}}index_files/figure-html/unnamed-chunk-12-1.png" width="672" /></p>
</div>
